---
title: "Первый лог"
date: 2020-07-31T22:41:07+05:00
draft: false
categories: ["Dev Log"]
summary: "С этого поста я начинаю вести devlog. то заметки о том, что нового и интересного я узнал в разработке, проектировании и решении своих профессиональных задач."
---
С этого поста я начинаю вести devlog.
## Что такое devlog?
Это заметки о том, что нового и интересного я узнал в разработке, проектировании и решении своих профессиональных задач. Идею такого названия я подсмотрел у [другого блогера](https://eev.ee/dev/).  
Возможно, коротко буду упоминать свой опыт применения разных технологий или приемов из книг и статей. Посмотрим как пойдет.

## Просмотр pull request - это весело
Взял для себя строгое правило - пока полностью не понял, что делается в чужом ПР, не аппрувить. Если что-то непонятно, это уже звоночек, чтобы написать комментарий. Просмотр ПР позволяет быстрее освоить нюансы хорошего дизайна, ища ошибки, о которых говорится в книге.  
Когда я пишу код сам, то я конечно учитываю многие нюансы. Но ещё приходится тратить время на тестирование, документирование и некоторые другие вещи, которые могут поднадоесть. Когда я смотрю чужой код, это позволяет быстро пройтись по коду, не написав его. И сразу начать думать о том, что здесь не так, вспоминая правила хорошего кода, и размышляя над недостатками того или иного решения.  
Кроме того, интересно, какие недостатки я пропустил и что напишут другие коллеги. Поэтому стоит ревьювить первым.

## Gitlab-CI
Это очень удобная штука. Вы можете настроить автоматическое тестирование кода, построение билда и выкладку прямо во время пуша вашей ветки или коммита. Вы просто указываете в каком порядке, когда и с какими командами запускать те или иные команды внутри ваших докер образов, при выкладке нужных вам веток. Более того, это все можно распараллеливать в несколько потоков и использовать кэш для ускорения сборок. Настраивается практически все.  
За одну неделю я успел настроить CI в нескольких проектах, переделывая drone скрипты на gitlab-ci. Drone выполняет те же функции. Но gitlab-ci имеет больше возможностей и интегрирован в gitlab и идет с ним в коробке.

## Переосмыслил нужность ORM библиотек в проекте
В крупном проекте нет необходимости использовать ORM библиотеки. У ORM библиотек есть только одно видимое преимущество. Они позволяют быстро писать сложные запросы с помощью querybilder-ов. Но его сложнее поддерживать. В них неочевидно, какой получается запрос в сыром виде. Его сложнее оптимизировать со временем и он является неочевидным. Трудно понять, как это точно работает. Он содержит много магии.  
Гораздо удобнее хранить в репозиториях очевидные запросы.  
Конечно, если проект небольшой, то не так страшно, что в коде есть немного магии. В небольшом проекте можно пренебречь некоторыми ограничениями правильного дизайна кода, и вынести часть логики работы с базами данных в основную. И тогда ORM библиотеки могут сэкономить время.

## Важные решения в дизайне кода стоит обдумать дважды
Часто, когда я решаю некую задачу, придумав решение, я сразу начинаю его реализовывать. Так делать не стоит. Если решение важное, то стоит подумать над другим вариантом, даже если кажется, что это в любом случае лучшее. Узнал об этом из книги "Phylosophy of software design".  
Я попробовал это на своем pet проекте, я сэкономил свое время на переписывании кода. Я представил себе другой интерфейс классов, существенно отличающийся от первого варианта, и прикинул преимущества и недостатки обоих. Размышляя над этим, я пришел к третьему, который совмещал преимущества обоих.
